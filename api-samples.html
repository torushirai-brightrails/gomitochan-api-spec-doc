<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <title>MCP/UTCP ã”ã¿å½“ã¡ã‚ƒã‚“ API ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ | ã”ã¿å½“ã¡ã‚ƒã‚“ API</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Prism.js Light / Dark + Line Numbers Plugin -->
    <link id="prism-theme"
      href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism.min.css"
      rel="stylesheet" />
    <link
      href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/line-numbers/prism-line-numbers.min.css"
      rel="stylesheet" />

    <style>
    body {
      font-family: "Noto Sans JP", sans-serif;
      margin: 0;
      padding: 0;
      transition: background 0.3s, color 0.3s;
    }

    body.light {
      background: #ffffff;
      color: #333;
    }
    body.dark {
      background: #121212;
      color: #e0e0e0;
    }

    header, footer {
      padding: 16px;
      text-align: center;
      background: #314a12;
      color: white;
    }

    .container {
      max-width: 900px;
      margin: 20px auto;
      padding: 20px;
    }

    /* ---- ã‚¿ãƒ– UI ---- */
    .tabs {
      display: flex;
      gap: 8px;
      margin-bottom: 12px;
    }
    .tab {
      padding: 6px 12px;
      cursor: pointer;
      border-radius: 6px;
      background: #dddddd;
    }
    body.dark .tab {
      background: #333;
      color: white;
    }
    .tab.active {
      font-weight: bold;
      background: #638122;
      color: white;
    }
    body.dark .tab.active {
      font-weight: bold;
      background: #638122;
      color: white;
    }

    /* ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã®ãƒ©ãƒƒãƒ‘ãƒ¼ */
    .code-wrapper {
      position: relative;
      border-radius: 8px;
      overflow: hidden;
    }

    /* ã‚³ãƒ”ãƒ¼ãƒœã‚¿ãƒ³ */
    .copy-button {
      position: absolute;
      top: 8px;
      right: 8px;
      padding: 6px 12px;
      background: #638122;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 12px;
      z-index: 10;
      transition: background 0.2s;
    }
    .copy-button:hover {
      background: #28a745;
    }
    .copy-button.copied {
      background: #84d12b;
    }

    pre {
      margin: 0;
      padding: 16px;
      overflow-x: auto;
      font-size: 12px;
    }

    /* è¡Œç•ªå·ã®ã‚¹ã‚¿ã‚¤ãƒ«èª¿æ•´ */
    pre.line-numbers {
      padding-left: 3.8em;
    }
    
    .line-numbers-rows {
      border-right: 1px solid #ddd;
    }
    
    body.dark .line-numbers-rows {
      border-right-color: #555;
    }

    /* å®Ÿè¡Œæ–¹æ³•ã‚»ã‚¯ã‚·ãƒ§ãƒ³ */
    .section {
      margin-top: 40px;
    }

    .section h2,
    .section h3,
    .section h4 {
      color: #638122;
      margin-top: 24px;
      margin-bottom: 12px;
    }

    body.dark .section h2,
    body.dark .section h3,
    body.dark .section h4 {
      color: #ffffff;
    }

    .execution-code-wrapper {
      position: relative;
      border-radius: 8px;
      overflow: hidden;
    }

    .section pre {
      background: #f5f5f5;
      border-radius: 8px;
      padding: 16px;
      font-size: 14px;
      margin: 0;
    }

    body.dark .section pre {
      background: #1e1e1e;
    }

    .section ul {
      line-height: 1.8;
      padding-left: 24px;
    }

    .section li {
      margin-bottom: 8px;
    }

    .execution-copy-button {
      position: absolute;
      top: 8px;
      right: 8px;
      padding: 6px 12px;
      background: #638122;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 12px;
      z-index: 10;
      transition: background 0.2s;
    }
    .execution-copy-button:hover {
      background: #28a745;
    }
    .execution-copy-button.copied {
      background: #84d12b;
    }

    /* ãƒ€ãƒ¼ã‚¯ / ãƒ©ã‚¤ãƒˆåˆ‡æ›¿ãƒœã‚¿ãƒ³ */
    .theme-toggle {
      position: fixed;
      top: 16px;
      right: 16px;
      padding: 8px 14px;
      border-radius: 6px;
      cursor: pointer;
      background: #444;
      color: white;
      border: none;
      z-index: 100;
    }
    body.light .theme-toggle {
      background: #ddd;
      color: #333;
    }
  </style>
  </head>

  <body class="light">

    <header>
      <h1 style="margin: 0;">ã”ã¿å½“ã¡ã‚ƒã‚“ API - ã‚³ãƒ¼ãƒ‰ã‚µãƒ³ãƒ—ãƒ«</h1>
    </header>

    <!-- ãƒ€ãƒ¼ã‚¯/ãƒ©ã‚¤ãƒˆãƒ¢ãƒ¼ãƒ‰ ãƒœã‚¿ãƒ³ -->
    <button class="theme-toggle" onclick="toggleTheme()">ğŸŒ™ ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰</button>

    <div class="container">

      <!-- â–¼ èª¬æ˜ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
      <p>
        å„ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã«ã¤ã„ã¦ã¯ã€ä»¥ä¸‹ã®ã‚¿ãƒ–ã§åˆ‡ã‚Šæ›¿ãˆã—ã¦ç¢ºèªãŒã§ãã¾ã™ã€‚
        Pythonã§ã®ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã«ãªã‚Šã¾ã™ã€‚
        å‹•ä½œã™ã‚‹ä¸Šã§ã®æœ€ä½é™ã®ã‚³ãƒ¼ãƒ‰ã«ãªã‚Šã¾ã™ã®ã§ã€ã‚ˆã‚Šç´°ã‹ã„ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°ã‚’ã™ã‚‹å ´åˆã¯å„ã‚³ãƒ¼ãƒ‰ã®å®Ÿè£…ã§ä½¿ç”¨ã—ã¦ã„ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ»ä»•æ§˜ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚
      </p>

      <!-- â–¼ ã‚¿ãƒ– -->
      <div class="tabs">
        <div class="tab active" data-file="sample_utcp_agent_openai.py.txt">UTCP
          Agent ã‚µãƒ³ãƒ—ãƒ«(OpenAI)</div>
        <div class="tab" data-file="sample_utcp_agent_anthropic.py.txt">UTCP
          Agent ã‚µãƒ³ãƒ—ãƒ«(Anthropic)</div>
        <div class="tab" data-file="sample_mcp_agent_openai.py.txt">MCP Agent
          ã‚µãƒ³ãƒ—ãƒ«(OpenAI)</div>
        <div class="tab" data-file="sample_mcp_agent_anthropic.py.txt">MCP Agent
          ã‚µãƒ³ãƒ—ãƒ«(Anthropic)</div>
      </div>

      <!-- â–¼ ã‚³ãƒ¼ãƒ‰è¡¨ç¤ºãƒ–ãƒ­ãƒƒã‚¯ -->
      <div class="code-wrapper">
        <button class="copy-button" onclick="copyCode()">ğŸ“‹ ã‚³ãƒ”ãƒ¼</button>
        <pre
          class="line-numbers"><code id="code-block" class="language-python">èª­ã¿è¾¼ã¿ä¸­...</code></pre>
      </div>

      <!-- â–¼ å®Ÿè¡Œæ–¹æ³•ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
      <div class="section">
        <h2>ğŸ“¡ äº‹å‰æº–å‚™</h2>
        <h3>OpenAIã§å‹•ã‹ã™å ´åˆ</h3>
        <h4>ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</h4>
        <div class="execution-code-wrapper">
          <button class="execution-copy-button"
            onclick="copyExecutionCode(this, 'execution-code-openai-inst')">ğŸ“‹
            ã‚³ãƒ”ãƒ¼</button>
          <pre><code id="execution-code-openai-inst">$ export OPENAI_API_KEY="OpenAIã§å…¥æ‰‹ã—ãŸAPIã‚­ãƒ¼"
$ export GOMITOCHAN_API_KEY="ã”ã¿å½“ã¡ã‚ƒã‚“APIã§å…¥æ‰‹ã—ãŸAPIã‚­ãƒ¼"
$ pip install utcp-agent langchain-openai</code></pre>
        </div>

        <h4>å®Ÿè¡Œæ–¹æ³•(UTCP)</h4>
        <div class="execution-code-wrapper">
          <button class="execution-copy-button"
            onclick="copyExecutionCode(this, 'execution-code-openai-run-utcp')">ğŸ“‹
            ã‚³ãƒ”ãƒ¼</button>
          <pre><code id="execution-code-openai-run-utcp">$ python sample_utcp_agent_openai.py</code></pre>
        </div>

        <h4>å®Ÿè¡Œæ–¹æ³•(MCP)</h4>
        <div class="execution-code-wrapper">
          <button class="execution-copy-button"
            onclick="copyExecutionCode(this, 'execution-code-openai-run-mcp')">ğŸ“‹
            ã‚³ãƒ”ãƒ¼</button>
          <pre><code id="execution-code-openai-run-mcp">$ python sample_mcp_agent_openai.py</code></pre>
        </div>

        <h3>Anthropicã§å‹•ã‹ã™å ´åˆ</h3>
        <h4>ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</h4>
        <div class="execution-code-wrapper">
          <button class="execution-copy-button"
            onclick="copyExecutionCode(this, 'execution-code-anthropic-inst')">ğŸ“‹
            ã‚³ãƒ”ãƒ¼</button>
          <pre><code id="execution-code-anthropic-inst">$ export ANTHROPIC_API_KEY="Anthropicã§å…¥æ‰‹ã—ãŸAPIã‚­ãƒ¼"
$ export GOMITOCHAN_API_KEY="ã”ã¿å½“ã¡ã‚ƒã‚“APIã§å…¥æ‰‹ã—ãŸAPIã‚­ãƒ¼"
$ pip install utcp-agent langchain-anthropic</code></pre>
        </div>

        <h4>å®Ÿè¡Œæ–¹æ³•(UTCP)</h4>
        <div class="execution-code-wrapper">
          <button class="execution-copy-button"
            onclick="copyExecutionCode(this, 'execution-code-anthropic-run-utcp')">ğŸ“‹
            ã‚³ãƒ”ãƒ¼</button>
          <pre><code id="execution-code-anthropic-run-utcp">$ python sample_utcp_agent_anthropic.py</code></pre>
        </div>

        <h4>å®Ÿè¡Œæ–¹æ³•(MCP)</h4>
        <div class="execution-code-wrapper">
          <button class="execution-copy-button"
            onclick="copyExecutionCode(this, 'execution-code-anthropic-run-mcp')">ğŸ“‹
            ã‚³ãƒ”ãƒ¼</button>
          <pre><code id="execution-code-anthropic-run-mcp">$ python sample_mcp_agent_anthropic.py</code></pre>
        </div>

        <h2>ğŸ”§ æ³¨æ„äº‹é …</h2>
        <ul>
          <li>API ã‚­ãƒ¼ã¯æµå‡ºã—ãªã„ã‚ˆã†ç’°å¢ƒå¤‰æ•°ã§ç®¡ç†ã—ã¦ãã ã•ã„ã€‚</li>
          <li>getGarbageItemsByCity ã¯ UTCP ç”¨ã® HTTPãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’åˆ©ç”¨ã—ã¾ã™ã€‚</li>
          <li>ã”ã¿å½“ã¡ã‚ƒã‚“ API ã¯ãƒ™ãƒ¼ã‚¿ç‰ˆã§ä»•æ§˜å¤‰æ›´ã®å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚</li>
        </ul>
      </div>

    </div>

    <footer>
      <p>Â© 2025 ã”ã¿å½“ã¡ã‚ƒã‚“ API</p>
    </footer>

    <!-- Prism.js -->
    <script
      src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/prism.min.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-python.min.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>

    <script>
    /* ===========================
       ãƒ€ãƒ¼ã‚¯ / ãƒ©ã‚¤ãƒˆãƒ¢ãƒ¼ãƒ‰åˆ‡æ›¿
       =========================== */
    const body = document.body;
    const prismTheme = document.getElementById("prism-theme");

    function applyTheme(saved) {
      if (saved === "dark") {
        body.className = "dark";
        prismTheme.href = "https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism-tomorrow.min.css";
        document.querySelector(".theme-toggle").textContent = "â˜€ï¸ ãƒ©ã‚¤ãƒˆãƒ¢ãƒ¼ãƒ‰";
      } else {
        body.className = "light";
        prismTheme.href = "https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism.min.css";
        document.querySelector(".theme-toggle").textContent = "ğŸŒ™ ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰";
      }
    }

    function toggleTheme() {
      const current = body.classList.contains("dark") ? "dark" : "light";
      const next = current === "dark" ? "light" : "dark";
      localStorage.setItem("theme", next);
      applyTheme(next);
    }

    const savedTheme = localStorage.getItem("theme") || "light";
    applyTheme(savedTheme);


    /* ===========================
       ã‚³ãƒ”ãƒ¼æ©Ÿèƒ½
       =========================== */
    function copyCode() {
      const codeBlock = document.getElementById("code-block");
      const button = document.querySelector(".copy-button");
      
      navigator.clipboard.writeText(codeBlock.textContent).then(() => {
        button.textContent = "âœ“ ã‚³ãƒ”ãƒ¼å®Œäº†";
        button.classList.add("copied");
        
        setTimeout(() => {
          button.textContent = "ğŸ“‹ ã‚³ãƒ”ãƒ¼";
          button.classList.remove("copied");
        }, 2000);
      }).catch(err => {
        console.error("ã‚³ãƒ”ãƒ¼ã«å¤±æ•—ã—ã¾ã—ãŸ:", err);
        alert("ã‚³ãƒ”ãƒ¼ã«å¤±æ•—ã—ã¾ã—ãŸ");
      });
    }

    function copyExecutionCode(buttonElement, codeId) {
      const executionCode = document.getElementById(codeId);
      
      navigator.clipboard.writeText(executionCode.textContent).then(() => {
        buttonElement.textContent = "âœ“ ã‚³ãƒ”ãƒ¼å®Œäº†";
        buttonElement.classList.add("copied");
        
        setTimeout(() => {
          buttonElement.textContent = "ğŸ“‹ ã‚³ãƒ”ãƒ¼";
          buttonElement.classList.remove("copied");
        }, 2000);
      }).catch(err => {
        console.error("ã‚³ãƒ”ãƒ¼ã«å¤±æ•—ã—ã¾ã—ãŸ:", err);
        alert("ã‚³ãƒ”ãƒ¼ã«å¤±æ•—ã—ã¾ã—ãŸ");
      });
    }


    /* ===========================
       ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆ & ãƒ•ã‚¡ã‚¤ãƒ«èª­è¾¼
       =========================== */
    const tabs = document.querySelectorAll(".tab");
    const codeBlock = document.getElementById("code-block");

    function loadFile(file) {
      codeBlock.textContent = "èª­ã¿è¾¼ã¿ä¸­...";
      fetch(file)
        .then(res => res.text())
        .then(text => {
          codeBlock.textContent = text;
          Prism.highlightElement(codeBlock);
        })
        .catch(err => {
          codeBlock.textContent = "èª­ã¿è¾¼ã¿ã‚¨ãƒ©ãƒ¼: " + err;
        });
    }

    // åˆæœŸãƒ­ãƒ¼ãƒ‰
    loadFile("sample_utcp_agent_openai.py.txt");

    tabs.forEach(tab => {
      tab.addEventListener("click", () => {
        tabs.forEach(t => t.classList.remove("active"));
        tab.classList.add("active");
        loadFile(tab.dataset.file);
      });
    });
  </script>

  </body>
</html>